(this["webpackJsonpmovie-poll"]=this["webpackJsonpmovie-poll"]||[]).push([[0],{18:function(n,e,t){n.exports=t(49)},23:function(n,e,t){},24:function(n,e,t){},49:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(12),o=t.n(c),u=(t(23),t(24),t(7)),i=t(13),l=t(2),s=t.n(l),f=t(5),p=t(6),d=t(3),m=t(4),v={margin:{x1:8,x2:16},color:{WHITE:"#FFFFFF",BLACK:"#000000",GREY:"grey",BLUE:"#00BFFF"}},x="https://pacific-woodland-92365.herokuapp.com/",b=function(){var n=Object(f.a)(s.a.mark((function n(){var e,t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(x,"poll"));case 2:return e=n.sent,n.next=5,e.json();case 5:if(!(t=n.sent)){n.next=10;break}return n.abrupt("return",t);case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=function(n){return Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&")},j=function(){var n=Object(f.a)(s.a.mark((function n(e){var t,r,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={answerId:e},n.next=3,fetch("".concat(x,"poll/vote"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:h(t)});case 3:return r=n.sent,n.next=6,r.json();case 6:return a=n.sent,n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=t(14),w=t.n(g);function E(){var n=Object(d.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  background-color: black;\n"]);return E=function(){return n},n}var O=m.a.div(E()),y=function(){return a.a.createElement(O,null,a.a.createElement(w.a,{type:"Bars",color:v.color.BLUE,height:80,width:80}))},k="f272a5f43ce4cc5810634ac04d30aa7d",F=function(){var n=Object(f.a)(s.a.mark((function n(e){var t,r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://api.themoviedb.org/3/").concat("movie/").concat(e,"?api_key=").concat(k,"&language=fr-FR"));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();function B(){var n=Object(d.a)(["\n  color: ",";\n  text-align: justify;\n"]);return B=function(){return n},n}function I(){var n=Object(d.a)(["\n  color: ",";\n"]);return I=function(){return n},n}function T(){var n=Object(d.a)(["\n  color: ",";\n"]);return T=function(){return n},n}var W=m.a.h3(T(),v.color.WHITE),S=m.a.p(I(),v.color.WHITE),C=m.a.p(B(),v.color.WHITE),H=a.a.memo((function(n){var e=n.movieId,t=Object(r.useState)(null),c=Object(p.a)(t,2),o=c[0],u=c[1],i=Object(r.useCallback)(function(){var n=Object(f.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(e);case 2:t=n.sent,u(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){i(e)}),[i,e]),o?a.a.createElement(a.a.Fragment,null,a.a.createElement(W,null,o.title),a.a.createElement(S,null,o.genres.map((function(n){return n.name})).join(", ")),a.a.createElement(C,null,o.overview)):null}));function L(){var n=Object(d.a)(["\n  display: flex;\n  flex: 1\n"]);return L=function(){return n},n}function A(){var n=Object(d.a)(["\n  user-select: none;\n"]);return A=function(){return n},n}function R(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n  width: 40px;\n  border-radius: 20px;\n  background-color: ",";\n  margin: ","px;\n"]);return R=function(){return n},n}function U(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n"]);return U=function(){return n},n}function G(){var n=Object(d.a)(["\n  margin: ","px ","px ","px ","px;\n  user-select: none;\n"]);return G=function(){return n},n}function Y(){var n=Object(d.a)(["\n  display: flex;\n  flex-grow: 1;\n  padding: ","px;\n  margin-top: ","px;\n  margin-bottom: ","px;\n  background-color: ",";\n  border-radius: 8px;\n  max-width: 500px;\n"]);return Y=function(){return n},n}function J(){var n=Object(d.a)(["\n  color: ",";\n"]);return J=function(){return n},n}function K(){var n=Object(d.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  padding: ","px;\n  background-color: ",";\n"]);return K=function(){return n},n}var M=m.a.div(K(),v.margin.x1,v.color.BLACK),P=m.a.h1(J(),v.color.WHITE),$=m.a.div(Y(),v.margin.x1,v.margin.x1,v.margin.x1,(function(n){switch(n.isAnswer){case!0:return v.color.BLUE;case!1:return v.color.GREY;case null:default:return v.color.WHITE}})),_=m.a.p(G(),v.margin.x2,v.margin.x1,v.margin.x2,v.margin.x1),q=m.a.div(U()),z=m.a.div(R(),(function(n){return n.selected?v.color.BLUE:v.color.GREY}),v.margin.x1),D=m.a.p(A()),N=m.a.div(L()),Q=function(){var n=Object(r.useState)(null),e=Object(p.a)(n,2),t=e[0],c=e[1],o=Object(r.useState)(null),l=Object(p.a)(o,2),d=l[0],m=l[1],v=Object(r.useState)(null),x=Object(p.a)(v,2),h=x[0],g=x[1],w=Object(r.useState)({}),E=Object(p.a)(w,2),O=E[0],k=E[1],F=!!d,B=function(){var n=Object(f.a)(s.a.mark((function n(){var e;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b();case 2:e=n.sent,c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),I=function(){var n=Object(f.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return!F&&m(e),n.next=3,j(e);case 3:t=n.sent,g(t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){B()}),[]);return t?a.a.createElement(M,null,a.a.createElement(P,null,t.title),t.answers.map((function(n){return a.a.createElement(q,{key:"answer-".concat(n.id)},a.a.createElement($,{onClick:function(){return I(n.id)},isAnswer:d?d===n.id:null},a.a.createElement(_,null,n.title),a.a.createElement(N,null),h?a.a.createElement(_,null,function(n){var e=h[n],t=Object.values(h).reduce((function(n,e){return n+e}),0);return"".concat(Math.round(e/t*100)," %")}(n.id)):null),a.a.createElement(z,{onClick:function(){return e=n.id,void k(Object(i.a)({},O,Object(u.a)({},e,!O[e])));var e},selected:O[n.id]},a.a.createElement(D,null,"i")))})),t.answers.map((function(n){return a.a.createElement("div",{key:"info-".concat(n.id)},O[n.id]&&a.a.createElement(H,{movieId:n.id}))}))):a.a.createElement(y,{type:"Bars",color:"#00BFFF",height:80,width:80})};var V=function(){return a.a.createElement(Q,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.0984e37f.chunk.js.map